import Web3 from 'web3';
import { provider, TransactionReceipt } from 'web3-core';
import { EventData, PastEventOptions } from 'web3-eth-contract';
import { PrefixedHexString, TransactionOptions } from 'ethereumjs-tx';
import RelayRequest from '../common/EIP712/RelayRequest';
import { IPaymasterInstance, IRelayHubInstance, IRelayRecipientInstance, IStakeManagerInstance, ITrustedForwarderInstance } from '../../types/truffle-contracts';
import { Address, IntString } from './types/Aliases';
import { GSNConfig } from './GSNConfigurator';
import GsnTransactionDetails from './types/GsnTransactionDetails';
declare type EventName = string;
export declare const RelayServerRegistered: EventName;
export declare const StakeUnlocked: EventName;
export declare const HubUnauthorized: EventName;
export declare const StakePenalized: EventName;
export default class ContractInteractor {
    private readonly IPaymasterContract;
    private readonly IRelayHubContract;
    private readonly IForwarderContract;
    private readonly IStakeManager;
    private readonly IRelayRecipient;
    private readonly web3;
    private readonly provider;
    private readonly config;
    private rawTxOptions?;
    constructor(provider: provider, config: GSNConfig);
    getProvider(): provider;
    getWeb3(): Web3;
    _init(): Promise<void>;
    getRawTxOptions(): TransactionOptions;
    _createRecipient(address: Address): Promise<IRelayRecipientInstance>;
    _createPaymaster(address: Address): Promise<IPaymasterInstance>;
    _createRelayHub(address: Address): Promise<IRelayHubInstance>;
    _createForwarder(address: Address): Promise<ITrustedForwarderInstance>;
    _createStakeManager(address: Address): Promise<IStakeManagerInstance>;
    getForwarder(recipientAddress: Address): Promise<Address>;
    getSenderNonce(sender: Address, forwarderAddress: Address): Promise<IntString>;
    validateAcceptRelayCall(relayRequest: RelayRequest, signature: PrefixedHexString, approvalData: PrefixedHexString): Promise<{
        success: boolean;
        returnValue: string;
        reverted: boolean;
    }>;
    encodeABI(relayRequest: RelayRequest, sig: PrefixedHexString, approvalData: PrefixedHexString): PrefixedHexString;
    topicsForManagers(relayManagers: Address[]): string[];
    getPastEventsForHub(names: EventName[], extraTopics: string[], options: PastEventOptions): Promise<EventData[]>;
    getPastEventsForStakeManager(names: EventName[], extraTopics: string[], options: PastEventOptions): Promise<EventData[]>;
    _getPastEvents(contract: any, names: EventName[], extraTopics: string[], options: PastEventOptions): Promise<EventData[]>;
    getBlockNumber(): Promise<number>;
    sendSignedTransaction(rawTx: string): Promise<TransactionReceipt>;
    estimateGas(gsnTransactionDetails: GsnTransactionDetails): Promise<number>;
    getGasPrice(): Promise<string>;
    getTransactionCount(relayWorker: string): Promise<number>;
}
export {};
